<plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>aspectj-maven-plugin</artifactId>
  <version>1.15.0</version>
  <configuration>
    <complianceLevel>17</complianceLevel>           <!-- match your JDK -->
    <encoding>UTF-8</encoding>
    <showWeaveInfo>true</showWeaveInfo>
    <verbose>true</verbose>

    <!-- tell ajc where your .java files live -->
    <sources>
      <source>
        <directory>${project.basedir}/src/main/java</directory>
        <includes>
          <include>**/*.java</include>
        </includes>
      </source>
    </sources>

    <!-- weave your main sources -->
    <weaveMainSourceFolder>true</weaveMainSourceFolder>
  </configuration>
  <executions>
    <execution>
      <goals>
        <goal>compile</goal>
        <goal>test-compile</goal>
      </goals>
    </execution>
  </executions>
</plugin>

mvn -q -DskipTests package
java -javaagent:"$HOME/.m2/repository/org/aspectj/aspectjweaver/1.9.22.1/aspectjweaver-1.9.22.1.jar" \
     -cp target/csafacetsmanager-*.jar ManagerTest

<dependency>
  <groupId>org.aspectj</groupId>
  <artifactId>aspectjrt</artifactId>
  <version>1.9.22.1</version>
</dependency>

