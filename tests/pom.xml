<plugin>
  <groupId>org.codehaus.mojo</groupId>
  <artifactId>aspectj-maven-plugin</artifactId>
  <version>1.15.0</version>
  <configuration>
    <complianceLevel>${maven.compiler.release}</complianceLevel>
    <encoding>${project.build.sourceEncoding}</encoding>
    <showWeaveInfo>true</showWeaveInfo>
    <verbose>true</verbose>

    <!-- tell ajc where your .java files are -->
    <sources>
      <source>
        <basedir>${project.build.sourceDirectory}</basedir>
        <includes>
          <include>**/*.java</include>
        </includes>
      </source>
    </sources>

    <!-- weave main sources so self-invocations are caught -->
    <weaveMainSourceFolder>true</weaveMainSourceFolder>
  </configuration>
  <executions>
    <execution>
      <goals>
        <goal>compile</goal>
        <goal>test-compile</goal>
      </goals>
    </execution>
  </executions>
</plugin>